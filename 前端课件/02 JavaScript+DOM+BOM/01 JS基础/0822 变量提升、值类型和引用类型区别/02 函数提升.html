<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
		<meta name="author" content="金西振" />
		<title></title>
		<style></style>
	</head>
	<body>
		<script>
			// 函数创建分两种形式：1、函数表达式；2、函数声明

			// 函数表达式的提升：变量的声明提升到当前作用域的顶部并赋值undefined，变量的赋值语句没有提升（变量的值是一个函数）
			// 把函数看成一个值，函数表达式和声明普通的变量形式是一样的，提升方式也是一样的
			// console.log(a);
			// var a = function(){}
			// console.log(a);
			// 上面的代码等价于
			// var a = undefined;
			// console.log(a);
			// a = function(){}
			// console.log(a);

			// 函数声明的提升：先把函数的声明提升到当前作用域的顶部，同时把函数体也提升到作用域的顶部并给函数声明赋值。
			// 相当于把函数声明整体都提升到当前作用域的顶部，所以函数声明创建的函数在任何位置都可以调用
			// console.log(b);
			// function b(){}
			// console.log(b);
			// 上面的代码等价于
			// function b(){}
			// console.log(b);
			// console.log(b);

			// 变量的提升和函数表达式的提升规则一致：声明语句提升到当前作用域顶部，赋值语句不提升
			// 函数声明的提升：声明语句和赋值语句都提升到当前作用域顶部

			// 提升的情况：
			// 一、变量和函数表达式同名：提升规则一致
			// console.log(a);
			// var a = 2;
			// console.log(a);
			// var a = function(){};
			// console.log(a);

			// 二、变量和函数声明同名：函数声明会覆盖变量声明
			// 1、变量的声明会提升到作用域的顶部，函数的声明也会提升到作用域的顶部
			// 2、变量的赋值语句不受影响，函数的赋值语句随着函数声明提升到了作用域的顶部
			// console.log(a);
			// var a = 2;
			// console.log(a);
			// function a() {}
			// console.log(a);
			// 上面的代码等价于
			// var a = undefined;
			// var a = function () {};

			// console.log(a);
			// a = 2;
			// console.log(a);
			// console.log(a);

			// 三、函数表达式和函数声明同名：函数声明会覆盖变量声
			// fn();
			// var fn = function () {
			// 	console.log(20);
			// };
			// fn();
			// function fn() {
			// 	console.log(30);
			// }
			// fn();
			// 等价于
			// 编译阶段：
			// var fn = undefined;
			// var fn = function () { console.log(30); }
			// // 执行阶段
			// fn();
			// fn = function () { console.log(20);}
			// fn();
			// fn();

			// 四、变量和函数的形参重名
			// 函数的形参当做局部变量：
			// function fn(a){}
			// // 等价于
			// function fn(){
			//   var a = undefined;
			// }

			// function fn(a) {
			// 	console.log(a);
			// 	var a = 20;
			// 	console.log(a);
			// }
			// fn(10);
			// //------------------
			// function fn() {
			// 	var a = 10;
			// 	console.log(a);
			// 	var a = 20;
			// 	console.log(a);
			// }
			// fn();

			// function test(a, b) {
			// 	console.log(a);
			// 	var c = 123;
			// 	console.log(c);
			// 	function a() {}
			// 	console.log(b);
			// 	var b = function c() {};
			// 	console.log(b);
			// }
			// test(1, 3);

      // 编译阶段三步走：
      // 1、形参和变量声明的提升，并给形参和变量赋值undefined
      // 2、给形参赋值（把调用函数的实参赋值给形参，未赋值的形参值还是undefined）
      // 3、函数声明的提升


			// AO =  {
			//   a:function(){},
			//   b:3,
			//   c:undefined,
			// }

			// console.log(a);
			// c = 123;
			// console.log(c);
			// console.log(b);
			// b = function c() {}
			// console.log(b);

			//(函数)预编译分四个步骤：
			// （1）创建一个AO对象（activation object）：AO{}
			// （2）将函数内所有的形参和变量声明（的名）储存到AO对象中，value为undifined
			// （3）将形参和实参进行统一
			// （4）将所有的函数声明的函数名作为AO对象中的key，函数整体内容为value储存到AO对象中

			// var a = 10;
			// function fn1() {
			// 	console.log(a);
			// 	a = 20;
			// 	function fn2() {
			// 		console.log(a);
			// 		a = 30;
			// 		console.log(a);
			// 	}
			// 	console.log(a);
			// 	var a;
			// 	fn2();
			// }
			// fn1();
			// console.log(a);



      // ---------------------------------------
			// function test(a, b) {
			// 	console.log(a);
			// 	console.log(b);
			// 	c = 0;
			// 	var c;
			// 	a = 3;
			// 	b = 2;
			// 	console.log(b);
			// 	function b() {}
			// 	function d() {}
			// 	console.log(b);
			// 	console.log(d);
			// }
			// test(1);



		</script>
	</body>
</html>
