# 语句

ECMA-262 描述了一些语句（也称为流控制语句），而 ECMAScript 中的大部分语法都体现在语句中。语句通常使用一或多个关键字完成既定的任务。语句可以简单，也可以复杂。简单的如告诉函数退出，复杂的如列出一堆要重复执行的指令。

# 流程控制

在一个程序执行的过程中，各条语句的执行顺序对程序的结果是有直接影响的。也就是说程序的流程对运行结果有直接的影响。在清楚每条语句的执行流程的前提下，才能通过控制语句的执行顺序来实现我们要完成的功能。

流程控制主要有三种结构：**顺序结构**、**分支结构**和**循环结构**，这三种结构代表三种代码执行的顺序。

- 顺序结构：按照代码的书写顺序，从上到下逐行执行，代码执行完毕后程序结束。
- 分支结构：根据一定的条件，选择性的
- 执行某些代码。if if-else switch
- 循环结构：某段固定的代码，重复执行多次。for while do...while

<img src="https://i.loli.net/2021/11/28/rZdRBmtFj53fb1i.png" alt="图片1" style="zoom:67%;" />

尽管现实世界的问题是复杂的、千变万化的，但与之相对应的计算机算法流程只有上述三种结构。它们可以解决全部的问题，任何一种编程语言都具备上述三种流程结构。

# 顺序结构

顺序结构是程序中最简单、最基本的流程控制，它没有特定的语法结构，程序会按照代码的先后顺序，从上而下，一行一行执行，程序中大多数的代码都是这样执行的。

```js
var a = 2;
var b = 3;
var c = a +b;
console.log('c=',c);
```

# 分支结构

分支结构也被称为**选择结构**。分支结构有特定的语法规则，代码要执行具体的条件判断，条件判断的结果有两个：true 和 false，所以产生分支，按照不同的选择执行不同的代码。

JS语言提供了两种分支结构语句

- if语句
- switch语句

## 单分支

**条件**：条件可以是任何表达式，并且求值结果不一定是布尔值。JS会自动调用 Boolean()函数将这个表达式的值转换为布尔值。

**语句**：这里的语句可能是一行代码，也可能是一个代码块（即包含在一对花括号中的多行代码）。

```js
//如果条件成立（条件为true）则执行语句，否则不执行
if (条件) {
  语句
}
```

<img src="https://i.loli.net/2021/11/29/Lu5HljVDZPpimUv.png" alt="图片1" style="zoom: 67%;" />

案例：从键盘获取年龄，判断如果年龄不小于18，输出：“你已经成年了”。

如果if语句的执行语句只有一行代码，{}可以省略，不过，这里的最佳实践是使用语句块，即使只有一行代码要执行也是如此。这是因为语句块可以避免对什么条件下执行什么产生困惑。

```js
if (age >= 18) alert("你已经成年了");
```

## 双分支

```js
//如果条件成立（条件为true），则执行语句1；如果条件不成立（条件为false），则执行语句2;
//两个语句有且只能有一个执行
if (条件) {
	语句1
} else {
	语句2
}
```

<img src="https://i.loli.net/2021/11/29/iopbK5vjJlzfFhN.png" alt="图片2" style="zoom:67%;" />

案例：从键盘获取年龄，判断如果年龄不小于18，输出：“您已成年，可以继续注册”；否则，输出：“本系统不对未成年人开放”。

## 三分支

```js
//先判断条件1，如果条件1成立，则执行语句1；如果条件1不成立，则判断条件2，如果条件2成立，则执行语句2；否则，执行语句3
//有且只能执行一个语句
if (条件1) {
  语句1
} else if (条件2) {
  语句2
} else {
  语句3
}
```

<img src="https://i.loli.net/2021/11/29/wz6PTRrFtgsuIAL.png" alt="图片3" style="zoom: 80%;" />



案例：从键盘输入一个数字，判断如果是正数，输出：“正数”；如果是负数，输出：“负数”；否则，输出：“0”。

## n多分支

```js
if (条件1) {
  语句1
} else if (条件2) {
  语句2
}
...
else if (条件n) {
  语句n
} else {
  执行语句n+1
}
```

![20180606160041871](https://i.loli.net/2021/11/29/zClUTaBLqIM9DAw.png)

案例：从键盘获取考试分数，如果分数不低于90，输出：优秀；如果分数不低于80，输出：良好；如果分数不低于70，输出：中等；如果分数不低于60，输出：及格；否则，输出：不及格。

## 分支嵌套

单个if语句可以按照某一条件进行判断，如果有多个条件同时参与判断，此时可以使用嵌套if来解决。

使用分支嵌套解决多条件分支，通过外层语句和内层语句的协作，增强程序的灵活性。

分支语句之间可以嵌套：单分支、双分支、多分支之间可以相互嵌套。

```js
if（条件1) {
  if（条件2) {
    代码块1
  } else {
    代码块2
  }
} else {
  代码块3
}

```

<img src="https://i.loli.net/2021/11/30/XtefAshFykWVI7Y.png" alt="image-20211130220253955" style="zoom: 80%;" />

案例：输入性别、身高、收入。如果是男性，就判断身高大于180，或者收入大于10000，输出"I do!"；否则输出"你是个好人”。如果是女性，输出"我们性别不合适"。

## switch语句

switch 语句也是多分支语句，它用于基于不同的条件来执行不同的代码。当要针对变量设置一系列的特定值的选项时，就可以使用 switch。

- 关键字 switch 后面括号内可以是表达式或值， 通常是一个变量
- 关键字 case 后面跟具体的值（数字、字符串），值后面跟一个冒号，case的语句中要加 break

- 当表达式的取值与某个case后面的值相等时（值相等使用全等运算符===），会执行这个case中的代码；如果都不一致，会执行default中的代码

- break：作用是这个case执行完成，用来结束整个switch语句，只要有一个case执行，其他case就不会执行

> 注意： 执行case 里面的语句时，如果没有break，则继续执行下一个case里面的语句，所以。case的语句中要加 break。

```js
switch (表达式) {
  case 目标值1:
  语句1;
  break;
  case 目标值2:
  语句2;
  break;
  …
  default:
  语句n + 1;
  break;
}
```

![img](https://i.loli.net/2021/11/29/nSgxTcZHXEpjd4Q.jpg)

案例：从键盘输入0-6的正整数，0弹出星期天，1弹出星期一，…，如果不是0-6的正整数，输出：鬼知道今天星期几。

## if和switch区别

- switch结构能实现的，if都能实现，但是if能实现的，switch不一定能实现。

- 如果遇到对常量的判断，为了使代码更简洁，优先使用switch选择。

- If结构，可以用来做布尔值的判断、常量的判断和区间范围的判断，switch只能用来对常量进行判断。

相同点：都可以用于分支判断

不同点：

- switch结构只能处理**等值**条件判断的情况
- if结构适合某个变量处于某个连续区间时的情况

## 分支结构的总结

if选择结构，包括以下形式：

- 基本if结构：可以处理单一条件的情况
- if-else结构：可以处理双分支分支情况
- 多重if结构：可以处理多分支情况

- 嵌套if结构：可以处理复杂的条件分支情况

switch选择结构适用于等值判断的情况

在实际应用中，通常会使用多种形式选择结构综合来解决较复杂的问题

# 三元运算符

三元运算符也叫三目运算符。

- 表达式的值为布尔类型，先执行表达式，如果表达式值为true，运算结果为值1；否则为值2。

三目运算符类似分支结构的if…else。

```js
表达式 ? 值1 : 值2;

var res = 2 > 3 ? "正确" : "不正确";
console.log(res);// 不正确
```

三元运算符也能嵌套：

```js
var m = -6;
var res = m>0 ? '正数' : (m<0 ? '负数' : '零');//负数
```

# 循环结构

**生活中处处皆循环**：

- 考试不及格，罚抄100遍单词；
- 晨跑10圈
- 计算100以内偶数的和……

在实际问题中，有许多具有规律性的重复操作，在程序中要完成这类操作就需要重环执行某些语句。

**程序中的循环**：

循环语句功能

- 在循环条件满足的情况下，反复执行特定代码

循环语句的四个组成部分

- 初始化部分：对循环变量赋初值
- 循环条件部分：判断循环变量是否超出某个界限
- 循环体部分：要循环执行的具体代码
- 迭代部分：修改循环变量的值

JS中有三种类型的循环语句：

- for 循环
- while 循环
- do...while 循环

## for 循环

在程序中，循环语句可以在满足**循环条件**的情况下，反复执行某一段代码，这段被重复执行的代码被称为**循环体**语句。当反复执行这个循环体时，需要在合适的时候把循环判断条件修改为false，从而结束循环，否则循环将一直执行下去，形成死循环。

由循环体及循环的终止条件组成的语句，被称之为循环语句。

for用于创建循环结构，主要用于把某些代码循环若干次，其语法结构如下：

**执行流程**：

- (1)首先执行【循环变量初始值】
- (2)接着进行【循环条件】判断，若值=true，则执行循环体，改变【迭代循环变量】
- (3)重复执行步骤(2)，直到【循环条件】的值=false，立即结束循环;

```js
for (循环变量初始值; 循环条件; 迭代循环变量){
	循环体
}
```

- 循环变量初始值：一条或者多条语句，这些语句完成一些初始化操作。
  - 比如：`var i = 0;`  或者  `var i = 6;` 或者 `var i = 0, j = 0;` 循环变量初始值可以自由定制

- 循环条件：这是一个`boolean` 表达式，这个表达式能决定是否执行循环体。如果表达式结果是 true 继续循环，否则退出循环。
  - 比如：`i < 10;` 或者 `i > 0;` 循环条件判断可以自由定制

- 迭代循环变量：这个部分在一次循环体结束后，下一次循环判断条件判断执行前执行。通过用于控制循环条件中的变量，使得循环在合适的时候结束。
  - 比如：`i++;` 或者 `i--;` 或者 `i+=2;` 迭代循环变量可以根据需要随意递增或者递减

- 循环体：这个部分是循环体语句，也就是我们要多次执行的代码。

![image-20211201081445672](https://i.loli.net/2021/12/01/tO2BYXSd9eWFpiw.png)

```js
for (var i = 0; i < 10; i++) {
 console.log("循环到 "+i);
}
```

for循环注意事项：

- 3个表达式可以省略任意一个，只要保留分号；使其语法结构完整
- 迭代变量一定要有变化，避免死循环

如果循环条件或循环变量的修改不适当，导致循环永远无法退出，那么这个循环就是死循环。除非确实需要，编程中一定要避免死循环。

```js
for(var i = 0;i<10;i--){
  console.log(i);
}

for(;;){
  console.log("这是一个死循环，不要轻易运行，否则程序容易卡死"); 
}
```

实际应用中，要灵活使用for语句：

````js
// 基本使用
for (var i = 0; i < 10; i++) {
 console.log(i);
}

// 把变量提取到外部使用
var i = 0; 
for (; i < count; ) { 
 console.log(i); 
 i++; 
}

//多变量使用
for(var i = 0, j = 0; i+j < 13; i++, j+=2){
  console.log('i=',i,'j=',j);
}
````

## while 循环

while 语句可以在条件表达式为真的前提下，循环执行指定的一段代码，直到表达式不为真时结束循环。

```js
// 基本格式
while (循环条件){
  循环体；
}

// 扩展代码格式
循环变量初始值
while (循环条件){
  循环体；
  迭代循环变量；		// 注意：不能缺少，否则造成死循环
}
```

执行流程：

- (1)首先执行【循环变量初始值】
- (2)接着进行【循环条件】判断，若值=true，则执行循环体，改变【迭代循环变量】
- (3)重复执行步骤(2)，直到【循环条件】的值=false，立即结束循环;

![](https://i.loli.net/2021/12/01/tO2BYXSd9eWFpiw.png)

## do…while 循环

do... while 语句其实是 while 语句的一个变体。该循环会先执行一次代码块，然后对条件表达式进行判断，如果条件为真，就会重复执行循环体，否则退出循环。

```js
// 基本格式
do{
  循环体;
}while(循环条件);

// 扩展代码格式
循环变量初始值
do{
    循环体;
    迭代循环变量
}while(循环条件);
```

执行流程：

- (1)首先执行【循环变量初始值】，先执行一次【循环体】和改变【迭代循环变量】
- (2)接着进行【循环条件】判断，若值=true，则继续执行循环体，改变【迭代循环变量】
- (3)重复执行步骤(2)，直到【循环条件】的值=false，立即结束循环;

![image-20211201081757755](https://i.loli.net/2021/12/01/iEIfZjnkzqgSQo7.png)

要点：先执行后判断；迭代条件不能缺少；while()后面的 `;` 不能缺少

注意：先再执行循环体，再判断，我们会发现 do…while 循环语句至少会执行一次循环体代码

## 循环的区别

无论哪一种循环，都有4个必不可少的部分：初始部分、循环条件、循环体、迭代部分

<img src="https://i.loli.net/2021/11/30/m5u7zWfrUlow3ML.png" alt="image-20211130232245263" style="zoom: 67%;" />



**区别1：语法**

<img src="https://i.loli.net/2021/11/30/jsZCo7XTRyQYuK6.png" alt="image-20211130232413196" style="zoom:80%;" />

**区别2：执行顺序** 

- while 循环：先判断，再执行
- do-while循环：先执行，再判断
- for循环：先判断，再执行

**区别3：适用情况**

- 循环次数确定的情况，常选用for循环
- 循环次数不确定，或为某一条件时，常选用while或do-while循环，优先选用while循环

## 嵌套循环

嵌套循环是指在一个循环语句中再定义一个循环语句的语法结构，当一次循环不能满足实际需求时，可以使用嵌套循环，如：有3个班，每个班级4人，试求各个班级总成绩。(每个学生成绩从键盘输入)

在for循环语句中，嵌套一个for 循环，这样的 for 循环语句我们称之为双重for循环，还有三重嵌套循环结构等。

- 嵌套循环，可以由上述3种基本循环任意嵌套，组合，只要保证单独每个循环语法正确即可

<img src="https://i.loli.net/2021/11/30/nXbdeW5tS79ismI.png" alt="image-20211130232918559" style="zoom: 67%;" />

- 外层循环多用来控制次数，且内外层的循环变量不要重复，从外层往内使用用 `i` `j`  `k` 变量
- 外层循环变量变化一次，内层循环变化一遍

```js
for (外循环的初始; 外循环的条件; 外循环的迭代) {
    for (内循环的初始; 内循环的条件; 内循环的迭代) {  
       循环体;
   }
}
```

以双层for循环嵌套为例：

- 内层循环可以看做外层循环的循环体，所以，外层循环执行一次，内层循环要执行全部次数
- 内层循环执行的顺序也要遵循 for 循环的执行顺序 
- 把双层循环看成一个表格，内层循环控制一行有多少单元格，外层循环控制有多少行

## 退出循环

当循环达到某一值，或者满足某一条件，需要提前结束循环，可以使用continue，break。类比生活中：跑20圈，结果到12圈就不行了，需要休息。

continue 关键字用于立即跳出本次循环，继续下一次循环（本次循环体中 continue 之后的代码就会少执行一次）。

break 关键字用于立即跳出整个循环（循环结束）。

<img src="https://i.loli.net/2021/12/01/b1jv9kNyLnlADgM.png" alt="image-20211201074708443" style="zoom: 50%;" />

案例：

- 围着操场跑十圈，跑到第6圈，太累了，第6圈的时间用来休息，休息完毕，继续跑第7圈

- 围着操场跑十圈，跑到第6圈，被叫回家相亲，剩余圈数不跑了

二者区别：

- continue：跳出当次循环，继续执行下次循环
- break：结束整个循环，走循环语句块之后的代码

相同点：二者都用于循环，没有循环时，不要使用这两个关键字(switch中break除外)

注意：二者操作的都是当前循环，嵌套循环时对其他循环无影响







